create database PIZZA_STUDIO;
show  databases;

 CREATE TABLE PIZZA_STUDIO.CUSTOMER(
CUST_ID INT PRIMARY KEY,                 /*PK*/
NAME VARCHAR(15),
PHONE_NUMBER double NOT NULL,
ADDRESS varchar(15),
HOUSE_NUMBER INT NOT NULL,
CITY VARCHAR(15) NOT NULL);
INSERT INTO PIZZA_STUDIO.CUSTOMER values(111,'Ria',9876543210,'Himayath Nagar',420,'Vijayawada');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(112,'Sita',8745636748,'Bandar Road',450,'Bangalore');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(113,'Mita',8523697412,'Currency Nagar',254,'Vijayawada');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(114,'Teja',8547896523,'Auto Nagar',325,'Chennai');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(115,'Harsha' ,9856745632,'Eluru Road',465,'Vijayawada');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(116,'Harini',9854796852,'Gachibowli',215,'Hyderabad');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(117,'Mahima',9630258147,'Opp HDFC Bank',325,'Chennai');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(118,'Likhitha',8974560123,'SN Puram',62/54,'Hyderabad');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(119,'Tina',8251400321,'Mutyalumpadu', 215,'Vijayawada');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(120,'Sai',8475962032,'HBI Colony',32-1,'Bangalore');
INSERT INTO PIZZA_STUDIO.CUSTOMER values(121,'Mohan',9850211230,'Gayathri Nagar',54-4/51,'Vijayawada');
SELECT * FROM PIZZA_STUDIO.CUSTOMER;

CREATE TABLE PIZZA_STUDIO.ORDERS(
ORDER_ID INT PRIMARY KEY,                   /*PK*/
CUST_ID INT REFERENCES CUSTOMER(CUST_ID), 
/*IGNORED SINCE TOTAL_PRICE IS DERIVED ATTRIBUTE*/    /*ITS DERIVED FROM TOPPING_PRICE*/  /*Foreign Key*/
PLACE_DATE_TIME DATETIME);
INSERT INTO PIZZA_STUDIO.ORDERS VALUES(1,111,'2021-03-31 05:59:42');
INSERT INTO PIZZA_STUDIO.ORDERS VALUES(2,112,'2021-04-02 04:20:15');
INSERT INTO PIZZA_STUDIO.ORDERS VALUES(3,113,'2021-04-03 13:23:44');
INSERT INTO PIZZA_STUDIO.ORDERS VALUES(4,114,'2021-04-05 15:45:21');
INSERT INTO PIZZA_STUDIO.ORDERS VALUES(5,115,'2021-04-01 14:56:59');
SELECT * FROM PIZZA_STUDIO.ORDERS;

CREATE TABLE PIZZA_STUDIO.PIZZA(
ORDER_ID INT REFERENCES ORDERS(ORDER_ID),     /*FK*/
PIZZA_ID INT PRIMARY KEY,                      /*PK*/
PRICE INT,
QUANTITY INT);

CREATE TABLE PIZZA_STUDIO.TOPPINGS(
CUST_ID INT REFERENCES CUSTOMER(CUST_ID),
TOPPING_ID INT PRIMARY KEY,                 /*PK*/
TOPPING_NAMES VARCHAR(25));

CREATE TABLE PIZZA_STUDIO.PERSONAL_DETAILS(
FORM_ID INT PRIMARY KEY,                         /*PK*/                
GOOD_EXPERIENCE VARCHAR(5),
BAD_EXPERIENCE VARCHAR(5),
LOCAL VARCHAR(10),
NON_LOCAL VARCHAR(10),
CUST_ID INT REFERENCES PIZZA_STUDIO.CUSTOMER);         /*FK*/

INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(211,'yes',NULL,'yes',NULL,111);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(212,NULL,'yes','yes',NULL,112);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(213,'yes',NULL,'yes',NULL,113);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(214,NULL,'yes','yes',NULL,114);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(215,'yes',NULL,'yes',NULL,115);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(216,NULL,'yes','yes',NULL,116);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(217,'yes',NULL,'yes',NULL,117);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(218,'yes',NULL,'yes',NULL,118);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(219,'yes',NULL,NULL,'yes',119);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(220,NULL,'yes',NULL,'yes',120);
INSERT INTO PIZZA_STUDIO.PERSONAL_DETAILS values(221,'yes',NULL,'yes',NULL,121);
SELECT * FROM PIZZA_STUDIO.PERSONAL_DETAILS;

CREATE TABLE PIZZA_STUDIO.TOPPING_NAME(
SNO INT PRIMARY KEY,                              /*PK*/
TOPPING_LIST VARCHAR(25),
TOPPING_PRICE VARCHAR(25));
INSERT INTO  PIZZA_STUDIO.TOPPING_NAME VALUES(1,'$1','PineApple'),(2,'$1','Pepperoni'),(3,'$1','Mushroom'),
(4,'$1','Green Pepper'),(5,'$2','Sausage'),(6,'$2','Olives'),(7,'$2','White Sauce'),(8,'$2','Cheese');
SELECT * FROM PIZZA_STUDIO.TOPPING_NAME;

CREATE TABLE PIZZA_STUDIO.FINALIZES(               
CUST_ID INT REFERENCES PIZZA_STUDIO.CUSTOMER,           /*SINCE M:N, 2FKS ONE EACH FROM PARTICIPATING ENTITIES*/
SNO INT REFERENCES PIZZA_STUDIO.TOPPING_NAME);        /*PK IS COMBINATION OF CUST_ID+SNO*/

SELECT * FROM PIZZA_STUDIO.CUSTOMER C JOIN PIZZA_STUDIO.PERSONAL_DETAILS P
WHERE C.CUST_ID=P.CUST_ID;                  /*SINCE M:N, 2FKS ONE EACH FROM PARTICIPATING ENTITIES*/



